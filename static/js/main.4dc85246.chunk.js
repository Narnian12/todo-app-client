(this["webpackJsonptodo-app-client"]=this["webpackJsonptodo-app-client"]||[]).push([[0],{77:function(n,e,t){},84:function(n,e,t){},85:function(n,e,t){},87:function(n,e,t){"use strict";t.r(e);var i,a,c,d,o,r,j=t(4),s=t(26),b=t.n(s),O=(t(77),t(66)),l=t(101),u=t(102),f=t(100),x=t(65),h=t(15),m=t(1),g=t(103),v=t(34),p=t(35),$=Object(p.a)(i||(i=Object(v.a)(["\n  query GetTodoList {\n    getTodoList {\n      id\n      name\n      info\n      editing\n    }\n  }\n"]))),T=t(67),L=t(18),y=t(38),C=t(30),I=t(61),S=t(105);!function(n){n.Id="id",n.Name="name",n.Info="info"}(a||(a={}));var N=Object(p.a)(c||(c=Object(v.a)(["\n  mutation addTodo(\n    $",": String!,\n    $",": String!,\n    $",": String\n  ) {\n    addTodo(todo: {\n      id: $",",\n      name: $",",\n      info: $","\n    }) {\n      id\n      name\n      info\n      editing\n    }\n  }\n"])),a.Id,a.Name,a.Info,a.Id,a.Name,a.Info),k=Object(p.a)(d||(d=Object(v.a)(["\n  mutation deleteTodo($id: String!) {\n    deleteTodo(id: $id) {\n      id\n    }\n  }\n"]))),w=Object(p.a)(o||(o=Object(v.a)(["\n  mutation setEditing($id: String!, $editing: Boolean!) {\n    setEditing(id: $id, editing: $editing) {\n      id\n      name\n      info\n      editing\n    }\n  }\n"]))),A=Object(p.a)(r||(r=Object(v.a)(["\n  mutation updateTodo(\n    $",": String!,\n    $",": String!,\n    $",": String\n  ) {\n    updateTodo(todo: {\n      id: $",",\n      name: $",",\n      info: $","\n    }) {\n      id\n      name\n      info\n      editing\n    }\n  }\n"])),a.Id,a.Name,a.Info,a.Id,a.Name,a.Info),B=t(3),F=function(n){var e=n.todoList,t=n.setTodoList,i=Object(m.useState)(!1),c=Object(h.a)(i,2),d=c[0],o=c[1],r=Object(m.useState)(""),j=Object(h.a)(r,2),s=j[0],b=j[1],O=Object(m.useState)(""),l=Object(h.a)(O,2),u=l[0],f=l[1],x=Object(S.a)(N),g=Object(h.a)(x,1)[0],v=function(){b(""),f("")},p=function(){o(!1),v()};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",margin:"10px 10px"},children:[Object(B.jsx)("h1",{children:"Todo List Client"}),Object(B.jsx)(C.a,{variant:"primary",onClick:function(){return o(!0)},children:"Add Todo"})]}),Object(B.jsxs)(y.a,{show:d,onHide:p,children:[Object(B.jsx)(y.a.Header,{closeButton:!0,children:Object(B.jsx)(y.a.Title,{children:"Add Todo"})}),Object(B.jsx)(y.a.Body,{children:Object(B.jsxs)("form",{className:"add",children:[Object(B.jsx)("label",{style:{margin:"0px 5px"},children:"Name"}),Object(B.jsx)("input",{value:s,onChange:function(n){return b(n.target.value)}}),Object(B.jsx)("label",{style:{margin:"0px 5px"},children:"Info"}),Object(B.jsx)("input",{value:u,onChange:function(n){return f(n.target.value)}})]})}),Object(B.jsxs)(y.a.Footer,{children:[Object(B.jsx)(C.a,{variant:"secondary",onClick:p,children:"Cancel"}),Object(B.jsx)(C.a,{variant:"primary",onClick:function(n){var i;n.preventDefault();var c={id:Object(I.v4)(),name:s,info:u,editing:!1};g({variables:(i={},Object(L.a)(i,a.Id,c.id),Object(L.a)(i,a.Name,c.name),Object(L.a)(i,a.Info,c.info),i)}),v(),t([].concat(Object(T.a)(e),[c])),o(!1)},children:"Add"})]})]})]})},E=t(96),G=t(97),J=t(98),H=t(99),X=(t(84),function(n){var e=n.todoList,t=n.setTodoList,i=Object(S.a)(k),a=Object(h.a)(i,1)[0],c=Object(S.a)(w),d=Object(h.a)(c,1)[0],o=Object(S.a)(A),r=Object(h.a)(o,1)[0],s=Object(m.useState)(e.length>0?e.reduce((function(n,e){return n.editing?n:e.editing?e:{id:"",name:"",info:"",editing:!1}})):{id:"",name:"",info:"",editing:!1}),b=Object(h.a)(s,2),O=b[0],l=b[1],u=Object(m.useState)(!1),f=Object(h.a)(u,2),x=f[0],g=f[1],v=function(n,i){g(i),d({variables:{id:n,editing:i}}),t(e.map((function(e){if(e.id===n){var t=Object(j.a)(Object(j.a)({},e),{},{editing:i});return l(t),t}return e})))},p=function(n){return l(Object(j.a)(Object(j.a)({},O),{},{name:n.target.value}))},$=function(n){return l(Object(j.a)(Object(j.a)({},O),{},{info:n.target.value}))},T=function(){r({variables:{id:O.id,name:O.name,info:O.info}}),t(e.map((function(n){return n.id===O.id?{id:O.id,name:O.name,info:O.info,editing:!1}:n}))),g(!1)};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{className:"todoList header",children:[Object(B.jsx)("div",{children:"Name"}),Object(B.jsx)("div",{children:"Info"})]}),e.map((function(n){return n.editing?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("hr",{}),Object(B.jsxs)("div",{className:"todoList",children:[Object(B.jsx)("input",{value:O.name,onChange:p}),Object(B.jsx)("input",{value:O.info,onChange:$}),Object(B.jsx)(C.a,{variant:"secondary",onClick:function(){return v(n.id,!1)},children:Object(B.jsx)(J.a,{})}),Object(B.jsx)(C.a,{variant:"primary",onClick:T,children:Object(B.jsx)(H.a,{})})]},n.id)]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("hr",{}),Object(B.jsxs)("div",{className:"todoList",children:[Object(B.jsx)("div",{children:n.name}),Object(B.jsx)("div",{children:n.info}),Object(B.jsx)(C.a,{variant:"secondary",onClick:function(){return v(n.id,!0)},disabled:x,children:Object(B.jsx)(E.a,{})}),Object(B.jsx)(C.a,{variant:"secondary",onClick:function(){return i=n.id,a({variables:{id:i}}),void t(e.filter((function(n){return n.id!==i})));var i},children:Object(B.jsx)(G.a,{})})]},n.id)]})}))]})}),Z=(t(85),t(86),function(){var n=Object(g.a)($),e=n.loading,t=n.error,i=n.data,a=i?i.getTodoList:null,c=Object(m.useState)(a),d=Object(h.a)(c,2),o=d[0],r=d[1];return e?Object(B.jsx)("p",{children:"Loading..."}):t?(console.log(t),Object(B.jsx)("p",{children:"Error"})):(i&&!o&&r(a),Object(B.jsxs)("div",{className:"App",children:[Object(B.jsx)(F,{todoList:o,setTodoList:r}),Object(B.jsx)(X,{todoList:o,setTodoList:r})]}))}),q=Object(O.a)({uri:"https://ps-todo-app-server.herokuapp.com/"}),z=Object(x.a)((function(n,e){var t=e.headers;return{headers:Object(j.a)(Object(j.a)({},t),{},{Authorization:"cGV0ZXJAYXBvbGxvZ3JhcGhxbC5jb20"})}})),D=new l.a({link:z.concat(q),cache:new u.a});b.a.render(Object(B.jsx)(f.a,{client:D,children:Object(B.jsx)(Z,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.4dc85246.chunk.js.map